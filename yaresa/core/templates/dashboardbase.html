{% load static %}
<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Yaresa</title>
    <!-- Font Awesome -->

        <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}">
        <!-- Bootstrap core CSS -->
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
        <!-- Material Design Bootstrap -->
        <link href="{% static 'css/mdb.min.css' %}" rel="stylesheet">
        <link href="{% static 'css/iziToast.min.css' %}" rel="stylesheet">


       <link href="{% static 'css/dashboardstyle.css' %}" rel="stylesheet">

       <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap4.min.css"/>

    <!-- Your custom styles (optional) -->
    <style>

    </style>
</head>

<body class="fixed-sn white-skin">

    <!--Main Navigation-->
    <header>

        <!-- Sidebar navigation -->
        <div id="slide-out" class="side-nav sidenav-bg fixed" style="background-color:#ff3300;">
            <ul class="custom-scrollbar">
            <!-- Logo -->
            <li class="logo-sn waves-effect">
                <div class="text-center">
                    <a href="#" class="pl-0"><img src="{% static 'images/yaresalogo.svg' %}" class=""style="height: 70px;width: auto"></a>
                </div>
            </li>
            <!--/. Logo -->

            <!--Search Form-->
            <li>
                <form class="search-form" role="search">
                    <div class="form-group md-form mt-0 pt-1 waves-light">
                        <input type="text" class="form-control white-text" placeholder="Search">
                    </div>
                </form>
            </li>
            <!--/.Search Form-->
            <!-- Side navigation links -->
            <li>
                <ul class="collapsible collapsible-accordion">
                    <li><a href="{% url 'core:dashboard' %}" class="collapsible-header waves-effect arrow-r white-text active"><i class="fa fa-tachometer white-text"></i> Dashboards</a>

                    </li>
                    <li><a class="collapsible-header waves-effect arrow-r white-text"><i class="fa fa-user white-text"></i>User<i class="fa fa-angle-down rotate-icon white-text"></i></a>
                        <div class="collapsible-body">
                            <ul>
                                <li><a href="{% url 'core:user-list' %}" class="waves-effect white-text">View Users</a>
                                </li>
                                <li><a href="{% url 'core:new-user' %}" class="waves-effect white-text">Add new User</a>
                                </li>

                            </ul>
                        </div>
                    </li>

                </ul>
            </li>
            <!--/. Side navigation links -->
            </ul>
            
        </div>
        <!--/. Sidebar navigation -->

        <!-- Navbar -->
        <nav class="navbar fixed-top navbar-expand-lg scrolling-navbar double-nav">
            <!-- SideNav slide-out button -->
            <div class="float-left">
                <a href="#" data-activates="slide-out" class="button-collapse white-text"><i class="fa fa-bars"></i></a>
            </div>
            <!-- Breadcrumb-->
            <div class="breadcrumb-dn mr-auto">
                <p class="white-text">Dashboard</p>
            </div>

            <!--Navbar links-->
            <ul class="nav navbar-nav nav-flex-icons ml-auto">

                <!-- Dropdown -->
{#                <li class="nav-item dropdown notifications-nav">#}
{#                    <a class="nav-link dropdown-toggle waves-effect" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"#}
{#                        aria-expanded="false">#}
{#                        <span class="badge red">3</span> <i class="fa fa-bell"></i>#}
{#                        <span class="d-none d-md-inline-block">Notifications</span>#}
{#                    </a>#}
{#                    <div class="dropdown-menu dropdown-info" aria-labelledby="navbarDropdownMenuLink">#}
{#                        <a class="dropdown-item" href="#">#}
{#                            <i class="fa fa-money mr-2" aria-hidden="true"></i>#}
{#                            <span>New order received</span>#}
{#                            <span class="float-right"><i class="fa fa-clock-o" aria-hidden="true"></i> 13 min</span>#}
{#                        </a>#}
{#                        <a class="dropdown-item" href="#">#}
{#                            <i class="fa fa-money mr-2" aria-hidden="true"></i>#}
{#                            <span>New order received</span>#}
{#                            <span class="float-right"><i class="fa fa-clock-o" aria-hidden="true"></i> 33 min</span>#}
{#                        </a>#}
{#                        <a class="dropdown-item" href="#">#}
{#                            <i class="fa fa-line-chart mr-2" aria-hidden="true"></i>#}
{#                            <span>Your campaign is about to end</span>#}
{#                            <span class="float-right"><i class="fa fa-clock-o" aria-hidden="true"></i> 53 min</span>#}
{#                        </a>#}
{#                    </div>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link waves-effect"><i class="fa fa-envelope"></i> <span class="clearfix d-none d-sm-inline-block">Contact</span></a>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link waves-effect"><i class="fa fa-comments-o"></i> <span class="clearfix d-none d-sm-inline-block">Support</span></a>#}
{#                </li>#}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle waves-effect white-text" href="#" id="userDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fa fa-user"></i> <span class="clearfix d-none d-sm-inline-block">Profile</span></a>
                   
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                        <a class="dropdown-item" href="#">Log Out</a>
                        <a class="dropdown-item" href="#">My account</a>
                    </div>
                </li>

            </ul>
            <!--/Navbar links-->
        </nav>
        <!-- /.Navbar -->
</header>
        <!-- Fixed button -->
        <div class="fixed-action-btn clearfix d-none d-xl-block" style="bottom: 45px; right: 24px;">
            <a class="btn-floating btn-lg red">
                <i class="fa fa-pencil"></i>
            </a>

            <ul class="list-unstyled">
                <li><a class="btn-floating red"><i class="fa fa-star"></i></a></li>
                <li><a class="btn-floating warning-color"><i class="fa fa-user"></i></a></li>
                <li><a class="btn-floating green"><i class="fa fa-envelope"></i></a></li>
                <li><a class="btn-floating blue"><i class="fa fa-shopping-cart"></i></a></li>
            </ul>
        </div>
        <!-- Fixed button -->

    <!--Main Navigation-->

    <!--Main layout-->
    <main>
       {% block content %}

       {% endblock %}
    </main>
    <!--Main layout-->

    <!--Footer-->
    <footer class="page-footer pt-0 mt-5 mb-0 mdb-color lighten-4">

        <!--Copyright-->
        <div class="footer-copyright py-3 text-center">
              <div class="container-fluid">
                 © 2018 Copyright: <a href="" target="_blank"> Yaresa </a>

            </div>
        </div>
        <!--/.Copyright-->

    </footer>
    <!--/.Footer-->


        <script type="text/javascript" src="{% static 'js/jquery-3.3.1.min.js' %}"></script>
        <!-- Bootstrap tooltips -->


        <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>

        <script type="text/javascript" src="{% static 'js/popper.min.js' %}"></script>
        <!-- Bootstrap core JavaScript -->
        <script type="text/javascript" src="{% static 'js/bootstrap.js' %}"></script>
        <!-- MDB core JavaScript -->
        <script type="text/javascript" src="{%  static 'js/mdb.min.js' %}"></script>
         <script type="text/javascript" src="{% static 'js/custom.js' %}"></script>
        <!--Toast -->
        <script type="text/javascript" src="{% static 'js/iziToast.min.js' %}"></script>

<script>
$(document).ready(function() {

     $('#factorytable').DataTable()

var max_fields = 3; //maximum input boxes allowed
var wrapper = $("#extracon"); //Fields wrapper
var add_button = $("#add-condition"); //Add button ID

var x = 1; //initlal text box count
$(add_button).click(function(e){ //on add input button click
e.preventDefault();
if(x < max_fields){ //max input box allowed
x++; //text box increment
    if(x ==1){
      $(wrapper).append(' <div class="col-md-4"><div class="md-form form-group"><label for="id_other_condition_'+x+'" class="control-label">Other Condition</label>{{ new_medical.other_condition_1 }}</div></div>');

    }else if(x==2){
      $(wrapper).append(' <div class="col-md-4"><div class="md-form form-group"><label for="id_other_condition_'+x+'" class="control-label">Other Condition</label>{{ new_medical.other_condition_2 }}</div></div>');

    }else {
        $(wrapper).append(' <div class="col-md-4"><div class="md-form form-group"><label for="id_other_condition_'+x+'" class="control-label">Other Condition</label>{{ new_medical.other_condition_3 }}</div></div>');

    }
//add input box
}
});

$(wrapper).on("click",".remove_field", function(e){ //user click on remove field
e.preventDefault(); $(this).parent('div').remove(); x--;
})
});

var medmax_fields = 2; //maximum input boxes allowed
var medwrapper = $("#extramed"); //Fields wrapper
var medadd_button = $("#add-med"); //Add button ID

var medx = 1; //initlal text box count
$(medadd_button).click(function(e){ //on add input button click
e.preventDefault();

if(medx < medmax_fields){ //max input box allowed
//text box increment

    if(medx == 1){

        $(medwrapper).append('    <div class="row">\n' +
    '                                <div class="col-md-4">\n' +
    '                           <div class="md-form form-group">\n' +
    '                                <label for="id_medicine_1" class="control-label">Medicine Name</label>\n' +
    '\n' +
    '\t\t\t\t\t\t        {{ new_medical.medicine_1 }}\n' +
    '\n' +
    '                           </div>\n' +
    '                                </div>\n' +
    '                                    \n' +
    '                                        <div class="col-md-4">\n' +
    '                           <div class="md-form form-group">\n' +
    '                                <label for="id_dosage_1" class="control-label">Dosage</label>\n' +
    '\n' +
    '\t\t\t\t\t\t        {{ new_medical.dosage_1 }}\n' +
    '\n' +
    '                           </div>\n' +
    '                                </div>\n' +
    '                                    \n' +
    '                                        <div class="col-md-4">\n' +
    '                           <div class="md-form form-group">\n' +
    '                                <label for="id_refill_date_1" class="control-label">Refill Date</label>\n' +
    '\n' +
    '\t\t\t\t\t\t        {{ new_medical.refill_date_1 }}\n' +
    '\n' +
    '                           </div>\n' +
    '                                </div>\n' +
    '                                    \n' +
    '                                </div>\n' +
    '                            ');
//add input box



    }
    $('.datepicker').pickadate({
// Escape any “rule” characters with an exclamation mark (!).
            format: 'yyyy-mm-dd',
            formatSubmit: 'yyyy-mm-dd'
        })
medx++;
}
});

$(medwrapper).on("click",".remove_field", function(e){ //user click on remove field
e.preventDefault(); $(this).parent('div').remove(); medx--;
})










var surmax_fields = 2; //maximum input boxes allowed
var surwrapper = $("#extrasur"); //Fields wrapper
var suradd_button = $("#add-sur"); //Add button ID

var surx = 1; //initlal text box count
$(suradd_button).click(function(e){ //on add input button click
e.preventDefault();
if(surx < surmax_fields){ //max input box allowed
 //text box increment
$(surwrapper).append('<div class="row">\n' +
    '                                <div class="col-md-6">\n' +
    '                           <div class="md-form form-group">\n' +
    '                                <label for="id_surgery_name_1" class="control-label">Surgery Name</label>\n' +
    '\n' +
    '\t\t\t\t\t\t        {{ new_medical.surgery_name_1 }}\n' +
    '\n' +
    '                           </div>\n' +
    '                                </div>\n' +
    '\n' +
    '                                  \n' +
    '\n' +
    '                                        <div class="col-md-4">\n' +
    '                           <div class="md-form form-group">\n' +
    '                                <label for="id_surgery_date_1" class="control-label"> Date</label>\n' +
    '\n' +
    '\t\t\t\t\t\t        {{ new_medical.surgery_date_1 }}\n' +
    '\n' +
    '                           </div>\n' +
    '                                </div>\n' +
    '\n' +
    '                                </div>\n' +
    '    ');
    $('.datepicker').pickadate({
// Escape any “rule” characters with an exclamation mark (!).
            format: 'yyyy-mm-dd',
            formatSubmit: 'yyyy-mm-dd'
        })
surx++;
//add input box
}
});

$(surwrapper).on("click",".remove_field", function(e){ //user click on remove field
e.preventDefault(); $(this).parent('div').remove(); surx--;
})





var alemax_fields = 2; //maximum input boxes allowed
var alewrapper = $("#extraale"); //Fields wrapper
var aleadd_button = $("#add-ale"); //Add button ID

var alex = 1; //initlal text box count
$(aleadd_button).click(function(e){ //on add input button click
e.preventDefault();
if(alex < alemax_fields){ //max input box allowed
 //text box increment

$(alewrapper).append(' <div class="row">\n' +
    '                                <div class="col-md-6">\n' +
    '                           <div class="md-form form-group">\n' +
    '                                <label for="id_allergy_name" class="control-label">Allergy Name</label>\n' +
    '\n' +
    '\t\t\t\t\t\t        {{ new_medical.allergy_name }}\n' +
    '\n' +
    '                           </div>\n' +
    '                                </div>\n' +
    '\n' +
    '\n' +
    '\n' +
    '                                        <div class="col-md-4">\n' +
    '                           <div class="md-form form-group">\n' +
    '                                <label for="id_allergy_type" class="control-label"> </label>\n' +
    '\n' +
    '\t\t\t\t\t\t      ' +' '+
    '\n' +
    '                           </div>\n' +
    '                                </div>\n' +
    '\n' +
    '                                </div>\n' +
    '\n');
//add input box
    alex++;
}
});

$(alewrapper).on("click",".remove_field", function(e){ //user click on remove field
e.preventDefault(); $(this).parent('div').remove(); alex--;
})












</script>
 {% if messages %}
        {% for message in messages %}
            {% if message.tags == 'error' %}
            <script type="text/javascript">

                iziToast.error({
                    message: '{{ message|safe }}',

                    position: 'topCenter'
                });
            </script>
            {% else %}
                <script type="text/javascript">
                iziToast.success({
                    message: '{{ message|safe }}',

                    position: 'topCenter'
                });
                </script>
            {% endif %}

        {% endfor %}
 {% endif %}
    <!--Initializations-->
    <script>

        $('.chips-placeholder').materialChip({
    placeholder: 'Enter a tag',
    secondaryPlaceholder: '+Tag',
});
        // SideNav Initialization
        $(".button-collapse").sideNav();

        var container = document.querySelector('.custom-scrollbar');
        Ps.initialize(container, {
            wheelSpeed: 2,
            wheelPropagation: true,
            minScrollbarLength: 20
        });


        $('.datepicker').pickadate({
// Escape any “rule” characters with an exclamation mark (!).
            format: 'yyyy-mm-dd',
            formatSubmit: 'yyyy-mm-dd'
        })

        // Material Select Initialization
        $(document).ready(function () {
            $('.mdb-select').material_select();
        });

        // Tooltips Initialization
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>

        <script> 
	  /* BMI */
	  function your_bmi(){
	     var height = document.getElementById("height").value;
	     var weight = document.getElementById("weight").value;
	     document.getElementById("bmi").value = (weight/Math.pow(height*0.01 , 2)).toFixed(2);
		 document.getElementById("bmi").style.fontWeight = "700";
		 
		 var bmi = document.getElementById("bmi").value;
		 if (bmi > 10.00 && bmi < 18.50){
		    document.getElementById("bmi").style.color = "#ffbf00";
		   document.getElementById("bmi").value = bmi + "  -  "  + '(Underweight)' ;
		   
		  }else if (bmi >= 18.50 && bmi < 25){
		  document.getElementById("bmi").style.color = "#50c878";
		   document.getElementById("bmi").value = bmi + "  -  "  + '(Normal Weight)' ;
		  
		 }else  if (bmi >= 25 && bmi < 30){
		  document.getElementById("bmi").style.color = "#ff7417";
		   document.getElementById("bmi").value = bmi + "  -  "  + '(Overweight)' ;
		   
		 }else  if (bmi >= 30 && bmi < 35){
		  document.getElementById("bmi").style.color = "#d30000";
		   document.getElementById("bmi").value = bmi + "  -  "  + '(Class I Obese)' ;
		   
		 }else  if (bmi >= 35 && bmi < 40){
		  document.getElementById("bmi").style.color = "#d30000";
		   document.getElementById("bmi").value = bmi + "  -  "  + '(Class II Obese)' ;
		  
		  }else  if (bmi >= 40){
		  document.getElementById("bmi").style.color = "#d30000";
		   document.getElementById("bmi").value = bmi + "  -  "  + '(Class III Obese)' ;
		   
		   } 
		}; 	
	 </script>
	 
	 <script> 
	    /* Blood Pressure */
	  function your_bp(){
	     
	     var sysbp = document.getElementById("systolic-bp").value;
		 var diabp = document.getElementById("diastolic-bp").value;
		 var bothbp = sysbp + "/" + diabp + "mmHg";
		 document.getElementById("systolic-bp").style.fontWeight = "700";
		 document.getElementById("diastolic-bp").style.fontWeight = "700";
		 var lowbp = "(Low BP)";
		 var normalbp = "(Normal BP)";
		 var elevatedbp = "(Elevated BP)";
		 var highbp1 = '(High BP I)';
		 var highbp2 = "(High BP II)";
		 var abnormalbp = "(Abnormal BP)";
           
		 if ((sysbp >= 20 && sysbp < 90) && (diabp < 60)){
		     document.getElementById("systolic-bp").style.color = "#5c2c06";
		     document.getElementById("diastolic-bp").style.color = "#5c2c06";
		     document.getElementById("systolic-bp").value = (bothbp + "   ");
			 document.getElementById("diastolic-bp").value = lowbp;
			
		 }else if ((sysbp >= 90 && sysbp < 120) && (diabp >= 60 && diabp < 80)){
		    document.getElementById("systolic-bp").style.color = "#50c878";
		    document.getElementById("diastolic-bp").style.color = "#50c878";
		    document.getElementById("systolic-bp").value = (bothbp + "   ");
		    document.getElementById("diastolic-bp").value = normalbp;
		 
		 }else if ((sysbp >= 120 && sysbp <= 129) && (diabp >= 60 && diabp < 80)){
		    document.getElementById("systolic-bp").style.color = "#ffd300";
		    document.getElementById("diastolic-bp").style.color = "#ffd300";
		    document.getElementById("systolic-bp").value = (bothbp + "   ");
		    document.getElementById("diastolic-bp").value = elevatedbp;
		
		}else if ((sysbp >= 130 && sysbp <= 139) || (diabp >= 80 && diabp <= 89)){
		    document.getElementById("systolic-bp").style.color = "#ff7417";
		    document.getElementById("diastolic-bp").style.color = "#ff7417";
		    document.getElementById("systolic-bp").value = (bothbp + "   ");
		    document.getElementById("diastolic-bp").value = highbp1;
		 
		 }else if ((sysbp >= 140 && sysbp <= 180) && (diabp >= 90 && diabp <= 120)){
		    document.getElementById("systolic-bp").style.color = "#d30000";
		    document.getElementById("diastolic-bp").style.color = "#d30000";
		    document.getElementById("systolic-bp").value = (bothbp + "   ");
		    document.getElementById("diastolic-bp").value = highbp2;
		 
		 }else if (sysbp > 180 || diabp > 120){
		    document.getElementById("systolic-bp").style.color = "#c21807";
		    document.getElementById("diastolic-bp").style.color = "#c21807";
		    document.getElementById("systolic-bp").value = (bothbp + "   ");
		    document.getElementById("diastolic-bp").value = abnormalbp;
		 
		 }
	  };
	 </script>

</body>


</html>
